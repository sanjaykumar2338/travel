<% include ./../partials/header.ejs %>

<style>
body {font-family: Arial, Helvetica, sans-serif;}

/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  padding-top: 100px; /* Location of the box */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content */
.modal-content {
  background-color: #fefefe;
  margin: auto;
  padding: 20px;
  border: 1px solid #888;
  width: 50%;
  overflow-y: auto;
  max-height: 500px;
}

/* The Close Button */
.close {
  color: #aaaaaa;
  text-align: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}

#payment .error{
  color:red;
}
</style>
<body>

  <header role="banner">
    <nav class="navbar navbar-expand-lg  bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand " href="./../../">sans </a>
        <a class="navbarbrand" href="./"><br> </a>
          <style>.navbarbrand{color: white; margin-left: -50px; font-size: 14px; margin-top: 5px;}
          .navbarbrand:hover{color: white;}
          .navbar li a:hover{color: rgb(255, 255, 255);}
          .navbar-nav a:hover{color: rgb(255, 255, 255);}
          </style>
        
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample05"
          aria-controls="navbarsExample05" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

   
        <div class="collapse navbar-collapse" id="navbarsExample05">
          <ul class="navbar-nav pl-md-5 ml-auto">
            <li class="nav-item">
              <a class="nav-link active" href="./">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#rainbow">Sobre</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link" href="./services" >Serviços</a>
              
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./portfolios">Portfolio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./contactus">Contactos</a>
            </li>
          </ul>

          <div class="navbar-nav ml-auto">
            <a class="nav-link active" href="./">Pt</a>
            <a class="nav-link " href="./">|</a>
            <a class="nav-link " href="./">En</a>
           
          </div>

        </div>
      </div>
    </nav>
  </header>
  <!-- END header -->

  <div class="slider-item overlay" data-stellar-background-ratio="0.9"
    style="background-image: linear-gradient(to right, rgba(238, 241, 236, 0.342), rgba(47, 3, 51, 0.63)),
    url('images/e75.jpg');">
    <div class="container">
      <div class="row slider-text align-items-center justify-content-center">
        <div class="col-lg-9 text-center col-sm-12 element-animate">
          <h1 class="mb-4" id="frase">Nós criamos o futuro. </h1>
          
           <style>
           
           @import url('https://fonts.googleapis.com/css?family=Source+Code+Pro');
           #frase{
             
            border-right: solid 3px rgba(239, 245, 239, 0.75);
            white-space: nowrap;
            overflow: hidden;   
            letter-spacing: 4px; 
             
            font-size: 50px;
            color: rgb(255, 255, 255);
          }
          @media (max-width: 750px) { 
            #frase {font-size: 18px;}
            @keyframes  animated-text{
            from{width: 0;}
            to{width: 402px;}
          }
           
        }

        @media (min-width: 750px) { 
          @keyframes  animated-text{
            from{width: 0;}
            to{width: 752px;}
          }
        }
          /* Animation */
        
          #frase {
            animation:animated-text 5s steps(29,end) 1s 1 normal both,
                      animated-cursor 600ms steps(29,end)  infinite;
          }
          
          /* text animation */
          
         
         
          
          /* cursor animations */
          
          @keyframes animated-cursor{
            from{border-right-color: rgba(245, 247, 245, 0.75);}
            to{border-right-color: transparent;}
          }</style>
        </div>
      </div>
    </div>
  </div>


  

  

  

   <div class="section">
    <div class="container">
      <div class="row justify-content-center mb-5 element-animate">
        <div class="col-md-8 text-center">
          <h2 class="heading mb-4">Donate</h2>
          
        </div>
      </div>
      <div class="row">
      <div class="col-lg-12">
                            <div class="card-body">
                                <!-- Credit Card -->
                                <div id="pay-invoice">
                                    <div class="card-body">
                                        <div class="card-title">
                                            <h3 class="text-center">Pay Invoice</h3>
                                        </div>
                                        <hr>
                                        <form id="payment" action="./../../payment_data" method="post">
                                            <div class="form-group text-center">
                                                <ul class="list-inline">
                                                    <li class="list-inline-item"><i class="text-muted fa fa-cc-visa fa-2x"></i></li>
                                                    <li class="list-inline-item"><i class="fa fa-cc-mastercard fa-2x"></i></li>
                                                    <li class="list-inline-item"><i class="fa fa-cc-amex fa-2x"></i></li>
                                                    <li class="list-inline-item"><i class="fa fa-cc-discover fa-2x"></i></li>
                                                </ul>
                                            </div>
                                            <div class="form-group">
                                                <label for="cc-payment" class="control-label mb-1">Payment amount</label>
                                                <input id="cc-payment" required="" name="price" type="number" min="1" class="form-control" required="true" aria-invalid="false" value="">
                                            </div>
                                            <div class="form-group has-success">
                                                <label for="cc-name" class="control-label mb-1">Name on card</label>
                                                <input id="cc-name" required="" name="cc-name" type="text" class="form-control cc-name valid" data-val="true" data-val-required="Please enter the name on card" autocomplete="cc-name" aria-required="true" aria-invalid="false" aria-describedby="cc-name">
                                                <span class="help-block field-validation-valid" data-valmsg-for="cc-name" data-valmsg-replace="true"></span>
                                            </div>
                                            <div class="form-group">
                                                <label for="cc-number" class="control-label mb-1">Card number</label>
                                                <input id="card_number" required="" name="card_number" type="tel" class="form-control cc-number identified visa" value="" data-val="true" data-val-required="Please enter the card number" data-val-cc-number="Please enter a valid card number">
                                                <span class="help-block" data-valmsg-for="cc-number" data-valmsg-replace="true"></span>
                                            </div>
                                            
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Expiration Month</label>
                                                        <input id="expiry_month" required="" name="expiry_month" type="tel" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration" data-val-cc-exp="Please enter a valid month and year" placeholder="MM">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <label for="x_card_code" class="control-label mb-1">Expiration Year</label>
                                                    <div class="input-group">
                                                        <input required="" id="expiry_year" name="expiry_year" placeholder="YYYY" type="tel" class="form-control cc-cvc" value="" data-val="true" data-val-required="Please enter the security code" data-val-cc-cvc="Please enter a valid security code" autocomplete="off">
                                                        <div class="input-group-addon">
                                                            <span class="fa fa-question-circle fa-lg" data-toggle="popover" data-container="body" data-html="true" data-title="Security Code"
                                                            data-content="<div class='text-center one-card'>The 3 digit code on back of the card..<div class='visa-mc-cvc-preview'></div></div>"
                                                            data-trigger="hover"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Security code</label>
                                                        <input id="security_code" required="" name="security_code" type="tel" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration" data-val-cc-exp="Please enter a valid month and year" placeholder="">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                
                                            </div>


                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Customer Name</label>
                                                        <input id="cc-exp" required="" name="customer_name" type="text" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration" data-val-cc-exp="Please enter a valid month and year" placeholder="">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <label for="x_card_code" class="control-label mb-1">Customer Email</label>
                                                    <div class="input-group">
                                                        <input onkeyup="ValidateEmail();" required="" id="customer_email" name="customer_email" placeholder="" type="email" class="form-control cc-cvc" value="" data-val="true" data-val-required="Please enter the security code" data-val-cc-cvc="Please enter a valid security code" autocomplete="off">
                                                        <span id="lblError" style="color: red"></span>

                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-group">
                                                        <label for="cc-exp" class="control-label mb-1">Customer Phone</label>
                                                        <input id="cc-exp" required="" name="customer_phone" type="tel" class="form-control cc-exp" value="" data-val="true" data-val-required="Please enter the card expiration" data-val-cc-exp="Please enter a valid month and year" placeholder="">
                                                        <span class="help-block" data-valmsg-for="cc-exp" data-valmsg-replace="true"></span>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <label for="x_card_code" class="control-label mb-1">Customer Address</label>
                                                    <div class="input-group">
                                                        <input required="" id="x_card_code" name="customer_address" placeholder="" type="text" class="form-control cc-cvc" value="" data-val="true" data-val-required="Please enter the security code" data-val-cc-cvc="Please enter a valid security code" autocomplete="off">
                                                        <div class="input-group-addon">
                                                            <span class="fa fa-question-circle fa-lg" data-toggle="popover" data-container="body" data-html="true" data-title="Security Code"
                                                            data-content="<div class='text-center one-card'>The 3 digit code on back of the card..<div class='visa-mc-cvc-preview'></div></div>"
                                                            data-trigger="hover"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="form-group">
                                                    <div id="error-message" class="error" style="color:red;"> </div>
                              
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="form-group">
                                                        <div id="loader" style="display: none;">
                            <img style="width: 100px;" alt="loader" src="/resources/frontend/images/LoaderIcon.gif">
                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            
                                            <input type="hidden" name="type" value="donate">

                                            <div style="text-align: center;">
                                                <button id="payment-button" type="button" class="btn btn-md btn-info">
                                                    <i class="fa fa-lock fa-lg"></i>&nbsp;
                                                    <span id="payment-button-amount">Pay</span>
                                                    <span id="payment-button-sending" style="display:none;">Sending…</span>
                                                </button>
                                            </div>
                                            
                                        </form>
                                    </div>
                                </div>

                            </div>
                      

                    </div>
                    </div>
  
    </div>
  </div>
  <style>
        
      
    .card {
      background: #fff;
      border-radius: 3px;
      box-shadow: 0 1px 1px rgba(0, 0, 0, 0);
      flex: 1;
      margin: 8px;
      padding: 30px;
      position: relative;
      text-align: center;
      transition: all 0.5s ease-in-out;
      height: 420px;
     
    
    }

    #button1{margin-top: 25px;}
    
    .card:hover {
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }
    
    
    
    .card-title h3 {
      color: rgba(0, 0, 0, 0.3);
      font-size: 15px;
      text-transform: uppercase;
    }
    .card-title h4 {
      color: rgba(0, 0, 0, 0.6);
      font-size: 16px;

    }
    
    .card-price {
      margin: 0px 0;
    }
    .card-price h1 {
      font-size: 46px;
    }
    .card-price h1 sup {
      font-size: 15px;
      display: inline-block;
      margin-left: -20px;
      width: 10px;
    }
    .card-price h1 small {
      color: rgba(0, 0, 0, 0.3);
      display: block;
      font-size: 11px;
      text-transform: uppercase;
    }
    
    .card-description ul {
      display: block;
      list-style: none;
      margin: 5px 0;
      padding: 0;
    }
    .card-description li {
      color: rgba(0, 0, 0, 0.6);
      font-size: 15px;
      margin: 0 0 15px;
    }
    .card-description li::before {
      font-family: FontAwesome;
      content: "\f00c";
      padding: 0 5px 0 0;
      color: rgba(0, 0, 0, 0.15);
    }


    
    
    
    </style>
  

 
  

 
  <!-- END .block-4 -->
  </div>

  <div class="bg-primary py-5">
    <div class="container text-center">
      <div class="row justify-content-center">
        <div class="col-lg-7">
          <h3 class="text-white mb-4 font-weight-normal">Tem algum projecto em mente?</h3>
          <p class="text-white mb-5">Estamos entusiasmados por conhecer o seu projecto.</p>
            
          <p class="mb-0"><a href="contact.html" class="btn btn-outline-white px-4 py-3">Entre em contacto!</a></p>
        </div>
      </div>

    </div>
  </div>

  

  <footer class="site-footer" role="contentinfo">
    <div class="container">
      <div class="row mb-5">
        <div class="col-md-4 mb-5">
          <h3 class="mb-4">Sobre Sans</h3>
          <p class="mb-5">Somos uma equipa de profissionais de desenvolvimento web que tem como objectivo satisfazer as
             necessidades dos nossos clientes de forma profissional e responsável, oferecendo as melhores soluções para
              cada projecto.</p>
          <ul class="list-unstyled footer-link d-flex footer-social">
            <li><a href="#" class="p-2"><span class="fa fa-twitter"></span></a></li>
            <li><a href="#" class="p-2"><span class="fa fa-facebook"></span></a></li>
            <li><a href="#" class="p-2"><span class="fa fa-linkedin"></span></a></li>
            <li><a href="#" class="p-2"><span class="fa fa-instagram"></span></a></li>
          </ul>

        </div>
        <div class="col-md-5 mb-5 pl-md-5">
          <div class="mb-5">
            <h3 class="mb-4">Contactos</h3>
            <ul class="list-unstyled footer-link">
              <li class="d-block">
                <span class="d-block">Morada:</span>
                <span class="text-white">34 Street Name, City Name Here, United States</span>
              </li>
              <li class="d-block">
                <span class="d-block">Telefone:</span><span class="text-white">+1 242 4942 290</span>
              </li>
              <li class="d-block">
                <span class="d-block">Email:</span><span class="text-white">info@yourdomain.com</span>
              </li>
            </ul>
          </div>

          
        </div>
        <div class="col-md-3 mb-5">
          <h3 class="mb-4">Outros</h3>
          <ul class="list-unstyled footer-link">
            <li><a href="payments.html">Outros pagamentos</a></li>
            
            <li><a href="#rainbow">Sobre</a></li>
            <li><a href="#">Termos de uso</a></li>
            
            <li><a href="./contactus">Contacto</a></li>
          </ul>
        </div>
        <div class="col-md-3">

        </div>
      </div>
      
    </div>
  </footer>


  <script src="/resources/frontend/js/jquery-3.2.1.min.js"></script>
  <script src="/resources/frontend/js/jquery-migrate-3.0.1.min.js"></script>
  <script src="/resources/frontend/js/popper.min.js"></script>
  <script src="/resources/frontend/js/bootstrap.min.js"></script>
  <script src="/resources/frontend/js/owl.carousel.min.js"></script>
  <script src="/resources/frontend/js/jquery.waypoints.min.js"></script>
  <script src="/resources/frontend/js/jquery.fancybox.min.js"></script>
  <script src="/resources/frontend/js/jquery.stellar.min.js"></script>
  <script src="/resources/frontend/js/main.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.2/jquery.validate.min.js" integrity="sha512-UdIMMlVx0HEynClOIFSyOrPggomfhBKJE28LKl8yR3ghkgugPnG6iLfRfHwushZl1MOPSY6TsuBDGPK2X4zYKg==" crossorigin="anonymous"></script>
</script>
  <script type="text/javascript">
        $('#payment-button').on('click', function(e){  
              
              $("#payment").valid();
              if (document.getElementById("payment").checkValidity()) {    
              e.preventDefault();
              var valid = cardValidation();

              if(valid == true) {
                  $("#error-message").html('Please wait...').show();
                  $("#payment-button").hide();
                  $("#loader").css("display", "inline-block");

                  Stripe.createToken({
                      number: $('#card_number').val(),
                      cvc: $('#security_code').val(),
                      exp_month: $('#expiry_month').val(),
                      exp_year: $('#expiry_year').val()
                  }, stripeResponseHandler);

                  //submit from callback
                  return false;
              }
           }  
        });

        function cardValidation () {
          var valid = true;          
          var cardNumber = $('#card_number').val();
          var month = $('#expiry_month').val();
          var year = $('#expiry_year').val();
          var cvc = $('#security_code').val();
          
          if (cardNumber.trim() == "") {
               valid = false;
          }

          if (month.trim() == "") {
                valid = false;
          }

          if (year.trim() == "") {
              valid = false;
          }

          if (cvc.trim() == "") {
              valid = false;
          }          

          return valid;
        }
      
        //set your publishable key
        if($('#publish_key').length > 0){
          //Stripe.setPublishableKey($('#publish_key').val().trim());
        }

        Stripe.setPublishableKey('pk_test_BDlJ33LBsh5s6L69P5y3AAvp00ETkWe6tP');
        
        //callback to handle the response from stripe
        function stripeResponseHandler(status, response) {
            if (response.error) {
                //enable the submit button
                $("#payment-button").show();
                $("#loader").css("display", "none");
                //display the errors on the form
                $("#error-message").html(response.error.message).show();

                window.scroll({
                  top: 0,
                  left: 0,
                  behavior: 'smooth'
                });
                
            } else {
                //get token id
                var token = response['id'];
                //insert the token into the form
                $("#payment").append("<input type='hidden' name='token' value='" + token + "' />");
                //submit form to the server
                $("#payment").submit();
            }
        }

        function ValidateEmail() {
        var email = document.getElementById("customer_email").value;
        var lblError = document.getElementById("lblError");
        lblError.innerHTML = "";
        var expr = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        if (!expr.test(email)) {
            lblError.innerHTML = "Invalid email address.";
        }
    }
    </script>
</body>

</html>