<% include partials/header.ejs %>


<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.10.3/jquery-ui.min.js"></script>
<script src="https://cdn-na.infragistics.com/igniteui/latest/js/infragistics.core.js"></script>
<script src="https://cdn-na.infragistics.com/igniteui/latest/js/infragistics.lob.js"></script>
<link href="https://cdn-na.infragistics.com/igniteui/latest/css/themes/infragistics/infragistics.theme.css" rel="stylesheet"></link>
<link href="https://cdn-na.infragistics.com/igniteui/latest/css/structure/infragistics.css" rel="stylesheet"></link>
<div class="empresasMain">


<div class="sideBar" style="margin-top: 10px;">
  <div class="empresasWorkSearch1" style=" height: 130px; padding-top: 10px; width: 98%; margin-left: 0; margin-bottom: 10px; margin-top: 50px; " >
     <div class="workSearchTitle">
       <a href="/empresas">
       <h3>Transportes </h3>
       <p>Portugal <i class="fas fa-arrows-alt-h"></i>   Suiça</p>
       <h1><i class="fas fa-search"></i></h1>
     </a>
     </div>
     
   </div>  
     
   
  
   <br>
   
   <div class="sidebarpublicidade" style="margin-bottom: 15px;">
    <img style="width: 98%;height: 240px;" src="/assets/img/Rebeka_Collier54@yahoo.com.jpeg"/>
    <h2 style="position: absolute; margin-top: -250px;width: 200px;color: white;margin-left: 50px;">Espaço para publicidade</h2>
  </div>

  <section id="sidebarartigos" class="cards-wrapper">
    <% if (sidenews.length > 0) {%>
      <% sidenews.forEach((sidenew, index) => { %>
    
   
     <div class="sidenewcard">
      <a href="./conteudo?id=<%= sidenew.id %>"> <div class="imgside">
         <img src="/uploads/blog_images/<%= sidenew.image %>" alt="">
       </div>
       <div class="date"><%= sidenew.created_at.toDateString() %></div>
       <p  ><%= sidenew.blog_title %></p>
       <div class="tag" style="font-weight: 600px;"><h4>Artigos</h4></div>

     </div></a>
    
      <style>
        .sidenewcard{
          position: relative;
        }
        .sidenewcard:hover{
          filter: brightness(150%);
          opacity: 0.9;
        }
        .imgside img{
          height: 250px;
          width: 97%;
          position: relative;
          filter: brightness(50%);
        }
        .sidenewcard .date{
          position:absolute;
          top: 8px;
           right: 16px;
           color:white;
           font-size: 12px;
        }
                           
           .sidenewcard p{
             color:white;
             position: absolute;
             top: 35%;
             left: 5%;
            
            font-size: 20px;
           }
           .sidenewcard .tag{
            color:white;
             position: absolute;
             bottom: 8px;
                 left: 16px;
                 background-color: grey;
                 padding:13px;
                 border-radius:5px;
                 font-weight: 600px;
                 font-family: 'Open Sans', sans-serif;
                 line-height: 0px;
                 padding-top: 0px;
                 padding-bottom: 1px;
                
                 

           }
      </style>
    <% }) %>

    <!-- https://images.unsplash.com/photo-1520839090488-4a6c211e2f94?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=38951b8650067840307cba514b554ba5&auto=format&fit=crop&w=1350&q=80 -->
  </section>
  
  <% } else { %>
    <p class="text-center">Não encontramos noticias <a href="/empresas" >Aqui</a> para voltar atrás.</p>
  <% } %>

  </div>
   
        
        <div class="empresasAdd" id="empresaShow" style="height: 2300px;" >
          <% if (message != '') { %>
            <p class="text-center text-danger"><%= message %></p>
        <% } %>
        <form class="add-player-form" action="" method="post" enctype="multipart/form-data">
           <style>
               @media all and  (max-width: 750px) {
                 .empresasAdd{margin-left: -80px;height: 100%;}
                 footer{margin-top: -40px;}
                 .footer{ height: 210px; margin-top: -20px;
                     line-height: 15px;}      
                   .footer li{
                     padding-bottom: 20px;}
                .empresasAdd2 label{display: contents; height: 70px; font-size: 18px;}     

               }
               footer{margin-top: 40px;}
             .empresasAdd2{
               display: inline-flex;
               flex-direction: row;
               flex-wrap: wrap;
               margin-top: 10px;
               margin: auto;
               justify-content: center;
             }
             .empresasAddtitle{
               margin-top: 60px;
             }
             .form__group{
               margin: 20px;
             }
           </style>
        
                  <div class="empresasAddtitle">
                   <h2>Adiciona a tua empresa</h2> 
                 </div>
            <div class="empresasAdd2" >
               
                <div class="form__group">
                    <label for="name" class="form__label">Nome da empresa</label>
                    <input type="text" class="form__input" id="nome_empresa" name="nome_empresa" placeholder="Escreve aqui..."  style="width: 250px;font-family:Arial, FontAwesome;margin: auto;"  required />
                     
                </div>
                <div class="form__group">
                    <label for="name" class="form__label">E-mail</label>
                    <input type="email" class="form__input" id="email" name="email" placeholder="Escreve aqui... "  style="width: 250px;font-family:Arial, FontAwesome;margin: auto;"  required />
                </div>
                <div class="form__group">
                    <label for="name" class="form__label">Categoria</label>
                    <select type="text" class="form__input category_choose" id="slogan" name="categoria" placeholder="Adiciona slogan de apresentação "  style="width: 250px;font-family:Arial, FontAwesome;margin: auto;"  required="" >
                      <% if (results3.length > 0) {%>
                        <% results3.forEach((result, index) => { %>
                      <option value="<%= result.id %>"><%= result.actividade %></option>
                      <% }) %>
                      <% } else { %>
                    <% } %>
                    
                    </select>
                </div>

                
                  
				
				
					
					<div class="form__group transport">
            <h5>Escolhe os Distritos onde <br>a tua empresa trabalha</h5>
					 <% if (results.length > 0) {%>
              <% results.forEach((result, index) => { %>
                <input type="checkbox" id="vehicle1"  name="from_country_start" value="<%= result.id %>">
                <label  name="from_country_start"><%= result.distrito_name %></label><br>
           
            <% }) %>
            <% } else { %>
          <% } %>
                    
					</div>
					
					
					
					
					<div class="form__group transport">
            <h5>Escolhe os Cantões onde <br>a tua empresa trabalha</h5>
            <% if (results2.length > 0) {%>
              <% results2.forEach((result2, index) => { %>
                <input type="checkbox" id="vehicle1"  name="to_country_start" value="<%= result2.id %>">
                <label  name="to_country_start"><%= result2.distrito %></label><br>
           
            <% }) %>

          <% } %>
          
          </div>
          <div class="form__group transport">
            <label>Tipo de transporte</label> <br>
  <input type="checkbox" id="mercadorias" name="tipoTransporte" value="mercadorias">
  <label for="mercadorias">Mercadorias</label><br>
  <input type="checkbox" id="pessoas" name="tipoTransporte" value="pessoas">
  <label for="pessoas">Pessoas</label><br>
          </div>
			
    <div id="checkboxSelectCombo"></div>
				
                <div class="form__group">
                    <label for="name" class="form__label">Telefone(opcional)</label>
                    <input type="number" class="form__input" id="telefone" name="telefone" placeholder="Escreve aqui..."  style="width: 250px;font-family:Arial, FontAwesome;margin: auto;"   />
                     
                </div>
                <div class="form__group">
                    <label for="name" class="form__label">Pais(onde a empresa está registada)</label>
                    <select type="text"   class="form__input" id="pais" name="pais" placeholder="Filtrar por" required="" style="width: 250px;margin: auto;" >
                      <option value="1" style="display: none;">Escolhe...</option>
                        <option value="1">Portugal</option>
                        <option value="2">Suiça</option>
                    </select>
                   
                  </div>
                  
                  
                  <div class="form__group">
                    <label for="name" class="form__label">Cantão/Distrito(empresa)</label>
                  <select type="text"  class="form__input" id="distrito" name="distrito_nome" placeholder="Filtrar por" required="" style="width: 250px;margin: auto;">
                      <option style="display: none;">Escolhe...</option>cantao
                      <% if (results2.length > 0) {%>
                        <% results2.forEach((result2, index) => { %>
                      <option class="" value="<%= result2.id %>"><%= result2.distrito %></option>
  
                      <% }) %>
                      <% } %>
                      <% if (results.length > 0) {%>
                        <% results.forEach((result, index) => { %>
                      <option class="" value="<%= result.id %>"><%= result.distrito_name %></option>
                      
                      <% }) %>
                      <% } else { %>
                      <% } %>
                  </select>
                  </div>  
            
                    <div class="form__group">
                        <label for="name" class="form__label">Rua(empresa)</label>
                        <input type="text" class="form__input" id="rua" name="rua" placeholder="Escreve aqui... "  style="width: 250px;font-family:Arial, FontAwesome;margin: auto;"  required="" />
                         
                    </div>
                    <div class="form__group">
                        <label for="name" class="form__label">Código Postal(empresa)</label>
                        <input type="text" class="form__input" id="codpos" name="codpos" placeholder="Escreve aqui... "  style="width: 250px;font-family:Arial, FontAwesome;margin: auto;"  required="" />
                         
                    </div>
                    <div class="form__group">
                    <form class="form__group" action="/action_page.php">
                        <label for="myfile" class="form__label">Imagem sobre a empresa</label>
                        <input type="file" class="form__input"  id="player-img" name="image" style="width: 250px;font-family:Arial, FontAwesome;margin: auto;"><br><br>
                      </form>
                    </div>
                   <br><br><br>
                    <h4>Faz uma apresentação da tua empresa, escreve um pequeno texto com os detalhes da tua empresa (a apresentação
                      é bastante importante para cativar clientes.) </h4>
                    <div class="form__group" id="addDescricaoEmpresa">
                        <label for="name" class="form__label" style="margin-left: 90px;">Aprensetação 1º parágrafo</label>
                        <textarea type="text" class="form__input" id="descricao" name="descricao" placeholder="Escreve aqui... "  style="width: 80%;font-family:Arial, FontAwesome;margin: auto;height: 110px;"  required="" ></textarea>
                        
                    </div>
                    <div class="form__group" id="addDescricaoEmpresa">
                      <label for="name" class="form__label" style="margin-left: 90px;">Apresentação 2 parágrafo</label>
                      <textarea type="text" class="form__input" id="descricao" name="descricao2" placeholder="Escreve aqui... "  style="width: 80%;font-family:Arial, FontAwesome;margin: auto;height: 110px;"   ></textarea>
                      
                  </div>
                  <div class="form__group" id="addDescricaoEmpresa">
                    <label for="name" class="form__label" style="margin-left: 90px;">Aprensetação 3º parágrafo</label>
                    <textarea type="text" class="form__input" id="descricao" name="descricao3" placeholder="Escreve aqui... "  style="width: 80%;font-family:Arial, FontAwesome;margin: auto;height: 110px;"   ></textarea>
                    
                </div>
                    <div class="form__group" id="btnadd">
                    <input type="submit" id="btnadd" class="form__input"  value="Adicionar"  >
                    </div>
            </div>    
            




            

            
        </form>

      
    <style>.multiselect {
      width: 200px;
    }
    
    .selectBox {
      position: relative;
    }
    
    .selectBox select {
      width: 100%;
      font-weight: bold;
    }
    
    .overSelect {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
    }
    
    #checkboxes {
      display: none;
      border: 1px #dadada solid;
    }
    
    #checkboxes label {
      display: block;
    }
    
    #checkboxes label:hover {
      background-color: #1e90ff;
    }</style>
       </div>
</div>
</div>
<footer>
    <section class="footer">
      
        <ul class="list1" id="lista1">
            <li><a href="aboutus.html">Sobre nós</a></li>
            <li><a href="/store">Loja</a></li>
            <li><a href="#">Cria a identidade da tua empresa</a></li>
            <li><a href="servicos.html">Serviços</a></li>
        </ul>
        
        <ul class="list1" id="lista2">
            <li><a href="contato.html">Contacto</a></li>
            <li><a href="parcerias.html">Parcerias</a></li>
            <li><a href="paginasweb.html">Cria a tua página web</a></li>
            <li><a href="#">Politicas de privacidade</a></li>
        </ul>
        <ul class="list1" id="lista3">
          <li><a href="contato.html">Contacto</a></li>
          <li><a href="parcerias.html">Parcerias</a></li>
          <li><a href="paginasweb.html">Cria a tua página web</a></li>
          <li><a href="#">Politicas de privacidade</a></li>
      </ul>
    </section>
</footer>
<nav class="design">
    <span>© 2020 DS, All Rights Reserved</span>
    
    

</nav>




<script>let mainPosts = document.querySelectorAll(".main-post");
    let posts = document.querySelectorAll(".post");
    
    let i = 0;
    let postIndex = 0;
    let currentPost = posts[postIndex];
    let currentMainPost = mainPosts[postIndex];
    
    let progressInterval = setInterval(progress, 100); // 180
    
    function progress() {
      if (i === 100) {
        i = -5;
        // reset progress bar
        currentPost.querySelector(".progress-bar__fill").style.width = 0;
        document.querySelector(
          ".progress-bar--primary .progress-bar__fill"
        ).style.width = 0;
        currentPost.classList.remove("post--active");
    
        postIndex++;
    
        currentMainPost.classList.add("main-post--not-active");
        currentMainPost.classList.remove("main-post--active");
    
        // reset postIndex to loop over the slides again
        if (postIndex === posts.length) {
          postIndex = 0;
        }
    
        currentPost = posts[postIndex];
        currentMainPost = mainPosts[postIndex];
      } else {
        i++;
        currentPost.querySelector(".progress-bar__fill").style.width = `${i}%`;
        document.querySelector(
          ".progress-bar--primary .progress-bar__fill"
        ).style.width = `${i}%`;
        currentPost.classList.add("post--active");
    
        currentMainPost.classList.add("main-post--active");
        currentMainPost.classList.remove("main-post--not-active");
      }
    }</script>
    <script>let mainPosts = document.querySelectorAll(".main-post");
      let posts = document.querySelectorAll(".post");
      
      let i = 0;
      let postIndex = 0;
      let currentPost = posts[postIndex];
      let currentMainPost = mainPosts[postIndex];
      
      let progressInterval = setInterval(progress, 100); // 180
      
      function progress() {
        if (i === 100) {
          i = -5;
          // reset progress bar
          currentPost.querySelector(".progress-bar__fill").style.width = 0;
          document.querySelector(
            ".progress-bar--primary .progress-bar__fill"
          ).style.width = 0;
          currentPost.classList.remove("post--active");
      
          postIndex++;
      
          currentMainPost.classList.add("main-post--not-active");
          currentMainPost.classList.remove("main-post--active");
      
          // reset postIndex to loop over the slides again
          if (postIndex === posts.length) {
            postIndex = 0;
          }
      
          currentPost = posts[postIndex];
          currentMainPost = mainPosts[postIndex];
        } else {
          i++;
          currentPost.querySelector(".progress-bar__fill").style.width = `${i}%`;
          document.querySelector(
            ".progress-bar--primary .progress-bar__fill"
          ).style.width = `${i}%`;
          currentPost.classList.add("post--active");
      
          currentMainPost.classList.add("main-post--active");
          currentMainPost.classList.remove("main-post--not-active");
        }
      }</script>
<script>let slide_data = [
    {
      'src':'resources/images/porto2.jpg',
      'title':'',
      'copy':'sdcvbdvb'
    },
    {
      'src':'resources/images/algarve1.jpg', 
      'title':'A Plataforma dos emigrantes.',
      'copy':'fagfdbb    .'
    },
    {
      'src':'resources/images/acores1.jpg', 
      'title':'Aqui encontras o que procuras.',
      'copy':'DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT.'
    },
    {
      'src':'resources/images/gerês1.jpg', 
      'title':'Para os portugueses na Suiça',
      'copy':'DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT.'
    },
    
  ];
  let slides = [],
    captions = [];
  
  let autoplay = setInterval(function(){
    nextSlide();
  },5000);
  let container = document.getElementById('container');
  let leftSlider = document.getElementById('left-col');
  // console.log(leftSlider);
  let down_button = document.getElementById('down_button');
  // let caption = document.getElementById('slider-caption');
  // let caption_heading = caption.querySelector('caption-heading');
  
  down_button.addEventListener('click',function(e){
    e.preventDefault();
    clearInterval(autoplay);
    nextSlide();
    autoplay;
  });
  
  for (let i = 0; i< slide_data.length; i++){
    let slide = document.createElement('div'),
        caption = document.createElement('div'),
        slide_title = document.createElement('div');
      
    slide.classList.add('slide');
    slide.setAttribute('style','background:url('+slide_data[i].src+')');
    caption.classList.add('caption');
    slide_title.classList.add('caption-heading');
    slide_title.innerHTML = '<h1>'+slide_data[i].title+'</h1>';
    
    switch(i){
      case 0:
          slide.classList.add('current');
          caption.classList.add('current-caption');
          break;
      case 1:
          slide.classList.add('next');
          caption.classList.add('next-caption');
          break;
      case slide_data.length -1:
        slide.classList.add('previous');
        caption.classList.add('previous-caption');
        break;
      default:
         break;       
    }
    caption.appendChild(slide_title);
    caption.insertAdjacentHTML('beforeend','<div class="caption-subhead"><span></span></div>');
    slides.push(slide);
    captions.push(caption);
    leftSlider.appendChild(slide);
    container.appendChild(caption);
  }
  // console.log(slides);
  
  function nextSlide(){
    // caption.classList.add('offscreen');
    
    slides[0].classList.remove('current');
    slides[0].classList.add('previous','change');
    slides[1].classList.remove('next');
    slides[1].classList.add('current');
    slides[2].classList.add('next');
    let last = slides.length -1;
    slides[last].classList.remove('previous');
    
    captions[0].classList.remove('current-caption');
    captions[0].classList.add('previous-caption','change');
    captions[1].classList.remove('next-caption');
    captions[1].classList.add('current-caption');
    captions[2].classList.add('next-caption');
    let last_caption = captions.length -1;
    
    // console.log(last);
    captions[last].classList.remove('previous-caption');
    
    let placeholder = slides.shift();
    let captions_placeholder = captions.shift();
    slides.push(placeholder); 
    captions.push(captions_placeholder);
  }
  
  let heading = document.querySelector('.caption-heading');
  
  
  // https://jonsuh.com/blog/detect-the-end-of-css-animations-and-transitions-with-javascript/
  function whichTransitionEvent(){
    var t,
        el = document.createElement("fakeelement");
  
    var transitions = {
      "transition"      : "transitionend",
      "OTransition"     : "oTransitionEnd",
      "MozTransition"   : "transitionend",
      "WebkitTransition": "webkitTransitionEnd"
    }
  
    for (t in transitions){
      if (el.style[t] !== undefined){
        return transitions[t];
      }
    }
  }
  
  var transitionEvent = whichTransitionEvent()
  caption.addEventListener(transitionEvent, customFunction);
  
  function customFunction(event) {
    caption.removeEventListener(transitionEvent, customFunction);
    console.log('animation ended');
  
    // Do something when the transition ends
  }
  
  </script>


   <script src="resources/js/transportsearch.js"></script>
   <script src="/resources/js/jquery-ui.min.js"></script>
   <script src="/resources/fullclip.min.js"></script>
   <script src="/resources/js/player.js"></script>

  <script>var expanded = false;

    function showCheckboxes() {
      var checkboxes = document.getElementById("checkboxes");
      if (!expanded) {
        checkboxes.style.display = "block";
        expanded = true;
      } else {
        checkboxes.style.display = "none";
        expanded = false;
      }
    }</script>


</body>
</html>



