<% include partials/header.ejs %>


<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.10.3/jquery-ui.min.js"></script>
<script src="https://cdn-na.infragistics.com/igniteui/latest/js/infragistics.core.js"></script>
<script src="https://cdn-na.infragistics.com/igniteui/latest/js/infragistics.lob.js"></script>
<link href="https://cdn-na.infragistics.com/igniteui/latest/css/themes/infragistics/infragistics.theme.css" rel="stylesheet"></link>
<link href="https://cdn-na.infragistics.com/igniteui/latest/css/structure/infragistics.css" rel="stylesheet"></link>
<div class="empresasMain">

<div class="sideBar" style="margin-top: 10px;">
  <div class="empresasWorkSearch1" style=" height: 130px; padding-top: 10px; width: 98%; margin-left: 0; margin-bottom: 10px; margin-top: 50px; " >
     <div class="workSearchTitle">
       <a href="/empresas">
       <h3>Transportes </h3>
       <p>Portugal <i class="fas fa-arrows-alt-h"></i>   Suiça</p>
       <h1><i class="fas fa-search"></i></h1>
     </a>
     </div>
     
   </div>  
     
   
  
   <br>
   
   <div class="sidebarpublicidade" style="margin-bottom: 15px;">
    <img style="width: 98%;height: 240px;" src="/assets/img/Rebeka_Collier54@yahoo.com.jpeg"/>
    <h2 style="position: absolute; margin-top: -250px;width: 200px;color: white;margin-left: 50px;">Espaço para publicidade</h2>
  </div>

  <section id="sidebarartigos" class="cards-wrapper">
    <% if (sidenews.length > 0) {%>
      <% sidenews.forEach((sidenew, index) => { %>
    
   
     <div class="sidenewcard">
      <a href="./conteudo?id=<%= sidenew.id %>"> <div class="imgside">
         <img src="/uploads/blog_images/<%= sidenew.image %>" alt="">
       </div>
       <div class="date"><%= sidenew.created_at.toDateString() %></div>
       <p  ><%= sidenew.blog_title %></p>
       <div class="tag" style="font-weight: 600px;"><h4>Artigos</h4></div>

     </div></a>
    
      <style>
         footer{margin-top: 60px;}
        .sidenewcard{
          position: relative;
        }
        .sidenewcard:hover{
          filter: brightness(150%);
          opacity: 0.9;
        }
        .imgside img{
          height: 250px;
          width: 97%;
          position: relative;
          filter: brightness(50%);
        }
        .sidenewcard .date{
          position:absolute;
          top: 8px;
           right: 16px;
           color:white;
           font-size: 12px;
        }
                           
           .sidenewcard p{
             color:white;
             position: absolute;
             top: 35%;
             left: 5%;
            
            font-size: 20px;
           }
           .sidenewcard .tag{
            color:white;
             position: absolute;
             bottom: 8px;
                 left: 16px;
                 background-color: grey;
                 padding:13px;
                 border-radius:5px;
                 font-weight: 600px;
                 font-family: 'Open Sans', sans-serif;
                 line-height: 0px;
                 padding-top: 0px;
                 padding-bottom: 1px;
           }
          
      </style>
    <% }) %>

    <!-- https://images.unsplash.com/photo-1520839090488-4a6c211e2f94?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=38951b8650067840307cba514b554ba5&auto=format&fit=crop&w=1350&q=80 -->
  </section>
  
  <% } else { %>
    <p class="text-center">Não encontramos noticias <a href="/empresas" >Aqui</a> para voltar atrás.</p>
  <% } %>

</div>
        



<div class="empresasAdd" id="empresaShow"  >

  <div class="span">

    <style>
       #empresaShow{min-height:fit-content;margin-top: 70px;}
      .span{height: 80px; margin-top: 20px;}
      #span{width: 93%; margin-left: 0px;
      background-color: rgb(61, 61, 61); line-height: 100px; height:270px; padding: 10px;}
      #span h1{text-decoration-color: rgb(94, 93, 93); line-height: 40px;font-size: 22px;}
      #span i {font-size: 40px;}
      #span:hover{background-color: rgb(122, 121, 121);}
      #span h3{line-height: 20px;font-size: 16px;}
      .workSearchTitle h1{ text-decoration-color: rgb( 61,61,61);text-decoration: none; }
      #atoempresas{text-decoration: none;}
      @media  (max-width: 750px) {#span{margin-top: 785px;position: absolute; width: 300px;margin-left: 20px;}
     .span{width: 100%;}
      .spaincontain{width: 100%;}
      #span{margin: 0; display: block;height: 390px;}
      .sideBar{display: none;}
      @media  (max-width: 650px){ #empresaShow{padding-left: 5%;}}
     
          }
    </style>
     <div class="spaincontain">
      <a  id="atoempresas" href="/charge">
        <div class="empresasWorkSearch" id="span" >
       
        <div class="workSearchTitle">
         
            
          <h1>Registra a tua empresa na maior plataforma de Portugueses na Suiça </h1>
          
         
          <br> 
          <h3>Porque cada negócio tem as suas necessidades dispomos de diferentes packs para cada negócio</h3>
          <br>
          <h3>Escolhe já o pack que mais se adequa ao teu negócio e vê os teus clientes aumentarem </h3>
          <br>
          <h1><i class="fas fa-chart-line"></i></h1>
       
        </div>
      </div> </a>
        
  
     </div>
   </div>
 
  
<div class="page" >
<div class="columns">
  <ul class="price">
    <li class="header" style="background-color: gray;">Basico</li>
    <li class="grey">€ 0 / Ano</li>
    <li>Adicionar empresas</li>
    <li>x</li>
    <li><br>x</li>
    <li><br>x</li>
    <li><br>x</li>
    <li class="grey"><a href="/add" class="button">Adicionar</a></li>
  </ul>
</div>


<form action="/charge" method="post">
<div class="columns">
  <ul class="price">
    <li class="header" style="background-color:#4CAF50">Pro</li>
    <li class="grey">€ 50.00 / Ano</li>
    <li>Adicionar empresas</li>
    <li>Empresas em destaque</li>
    <li>1 Campanha publicitária / Ano</li>
    <li><br>x</li>
    <li><br>x</li>
    <li class="grey"><input type="submit" data-amount="5000" class="stripe-button" value="Adicionar"></li>
  </ul>
</div>
<div class="columns">
  <ul class="price">
    <li class="header" style="background-color: indigo;">Premium</li>
    <li class="grey">€ 150.00 / Ano</li>
    <li>Adicionar empresas</li>
    <li>Empresas em destaque</li>
    <li>5 Campanhas publicitárias / Ano</li>
    <li>Destaque nos resultados de pesquisa</li>
    
    <li><br>x</li>
    <li class="grey"><input type="submit" data-amount="15000" class="stripe-button" value="Adicionar"></li>
  </ul>
</div>
<div class="columns">
  <ul class="price">
    <li class="header" >Premium Pro</li>
    <li class="grey">€ 350.00 / Ano</li>
    <li>Adicionar empresas</li>
    <li>Empresas em destaque</li>
    <li>5 Campanhas publicitárias / Ano</li>
    <li>Destaque nos resultados de pesquisa</li>
   
    <li>Web site profissional para a tua empresa</li>
    <li class="grey"><input type="submit" data-amount="35000" class="stripe-button" value="Adicionar"></li>
  </ul>
</div>
</div>
</form>

<script src="https://js.stripe.com/v3/"></script>

<form action="" method="post" id="paymentform" style="display: none;">
  <span class="username"><%=username%></span>
  <span class="email"><%=email%></span>
</form>

<script>
$('.stripe-button').on('click',function(e){
  e.preventDefault();
  var _that = $(this);
  
  if(!confirm("Are you sure to buy this plan?")){
    return false;
  }

  var stripe = Stripe('pk_live_wbfgBPsXWIJpAaMOrEhfETRr00zpO4n3Xj');
  stripe.createSource({
    type: 'multibanco',
    amount: _that.attr('data-amount'),
    currency: 'eur',
    owner: {
      name: $('.username').text(),
      email: $('.email').text(),
    },
    redirect: {
      return_url: 'https://www.portugal-la-fora.com/charge_complete',
    },
  }).then(function(result) {
    console.log(result,'result')
    if(result.hasOwnProperty("error")){
      alert('there is an error, try again');
      return false;
    }
    
    window.open(result.source.redirect.url,'_blank');
    
  });
});

</script>

<style>   
    /**
 * The CSS shown here will not be introduced in the Quickstart guide, but shows
 * how you can use CSS to style your Element's container.
 */
.StripeElement {
  box-sizing: border-box;

  height: 40px;

  padding: 10px 12px;

  border: 1px solid transparent;
  border-radius: 4px;
  background-color: white;

  box-shadow: 0 1px 3px 0 #e6ebf1;
  -webkit-transition: box-shadow 150ms ease;
  transition: box-shadow 150ms ease;
}

.StripeElement--focus {
  box-shadow: 0 1px 3px 0 #cfd7df;
}

.StripeElement--invalid {
  border-color: #fa755a;
}

.StripeElement--webkit-autofill {
  background-color: #fefde5 !important;
}

.page{display: inline-flex;justify-content: space-around;
margin-top: -800px;}
    .columns {
      float: left;
      width: 23.3%;
      padding: 15px;
      
    }
    
    .price {
      list-style-type: none;
      border: 1px solid #eee;
      margin: 0;
      padding: 0;
      -webkit-transition: 0.3s;
      transition: 0.3s;
    }
    
    .price:hover {
      box-shadow: 0 8px 12px 0 rgba(0,0,0,0.2)
    }
    
    .price .header {
      background-color: #111;
      color: white;
      font-size: 25px;
    }
    
    .price li {
      border-bottom: 1px solid #eee;
      padding: 20px;
      text-align: center;
    }
    
    .price .grey {
      background-color: #eee;
      font-size: 20px;
    }
    
    .button {
      background-color: #4CAF50;
      border: none;
      color: white;
      padding: 10px 25px;
      text-align: center;
      text-decoration: none;
      font-size: 18px;
    }
    .stripe-button{ background-color: #4CAF50;
      border: none;
      color: white;
      padding: 10px 25px;
      text-align: center;
      text-decoration: none;
      font-size: 18px;}
      .stripe-button:hover{cursor: pointer; background-color: lightgreen;}
      .button:hover{cursor: pointer; background-color: lightgreen;}
    
    @media only screen and (max-width: 700px) {
      .page{display: block;margin-top: 300px; 
}
      .columns {
        width: 93%;
        float: unset;
        margin-left: -7px;
      }
    }
  
      .multiselect {
    width: 200px;
    }
    
    .selectBox {
      position: relative;
    }
    
    .selectBox select {
      width: 100%;
      font-weight: bold;
    }
    
    .overSelect {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
    }
    
    #checkboxes {
      display: none;
      border: 1px #dadada solid;
    }
    
    #checkboxes label {
      display: block;
    }
    
    #checkboxes label:hover {
      background-color: #1e90ff;
    }
  </style>
    </div>
</div>
</div>
<footer>
    <section class="footer">
      
        <ul class="list1" id="lista1">
            <li><a href="aboutus.html">Sobre nós</a></li>
            <li><a href="/store">Loja</a></li>
            <li><a href="#">Cria a identidade da tua empresa</a></li>
            <li><a href="servicos.html">Serviços</a></li>
        </ul>
        
        <ul class="list1" id="lista2">
            <li><a href="contato.html">Contacto</a></li>
            <li><a href="parcerias.html">Parcerias</a></li>
            <li><a href="paginasweb.html">Cria a tua página web</a></li>
            <li><a href="#">Politicas de privacidade</a></li>
        </ul>
        <ul class="list1" id="lista3">
          <li><a href="contato.html">Contacto</a></li>
          <li><a href="parcerias.html">Parcerias</a></li>
          <li><a href="paginasweb.html">Cria a tua página web</a></li>
          <li><a href="#">Politicas de privacidade</a></li>
      </ul>
    </section>
</footer>

<nav class="design">
    <span>© 2020 DS, All Rights Reserved</span>
</nav>

<script>
  // Hide default stripe button, be careful there if you
  // have more than 1 button of that class
  document.getElementsByClassName("stripe-button-el")[0].style.display = 'none';
</script>


<script>let mainPosts = document.querySelectorAll(".main-post");
    let posts = document.querySelectorAll(".post");
    
    let i = 0;
    let postIndex = 0;
    let currentPost = posts[postIndex];
    let currentMainPost = mainPosts[postIndex];
    
    let progressInterval = setInterval(progress, 100); // 180
    
    function progress() {
      if (i === 100) {
        i = -5;
        // reset progress bar
        currentPost.querySelector(".progress-bar__fill").style.width = 0;
        document.querySelector(
          ".progress-bar--primary .progress-bar__fill"
        ).style.width = 0;
        currentPost.classList.remove("post--active");
    
        postIndex++;
    
        currentMainPost.classList.add("main-post--not-active");
        currentMainPost.classList.remove("main-post--active");
    
        // reset postIndex to loop over the slides again
        if (postIndex === posts.length) {
          postIndex = 0;
        }
    
        currentPost = posts[postIndex];
        currentMainPost = mainPosts[postIndex];
      } else {
        i++;
        currentPost.querySelector(".progress-bar__fill").style.width = `${i}%`;
        document.querySelector(
          ".progress-bar--primary .progress-bar__fill"
        ).style.width = `${i}%`;
        currentPost.classList.add("post--active");
    
        currentMainPost.classList.add("main-post--active");
        currentMainPost.classList.remove("main-post--not-active");
      }
    }</script>
    <script>let mainPosts = document.querySelectorAll(".main-post");
      let posts = document.querySelectorAll(".post");
      
      let i = 0;
      let postIndex = 0;
      let currentPost = posts[postIndex];
      let currentMainPost = mainPosts[postIndex];
      
      let progressInterval = setInterval(progress, 100); // 180
      
      function progress() {
        if (i === 100) {
          i = -5;
          // reset progress bar
          currentPost.querySelector(".progress-bar__fill").style.width = 0;
          document.querySelector(
            ".progress-bar--primary .progress-bar__fill"
          ).style.width = 0;
          currentPost.classList.remove("post--active");
      
          postIndex++;
      
          currentMainPost.classList.add("main-post--not-active");
          currentMainPost.classList.remove("main-post--active");
      
          // reset postIndex to loop over the slides again
          if (postIndex === posts.length) {
            postIndex = 0;
          }
      
          currentPost = posts[postIndex];
          currentMainPost = mainPosts[postIndex];
        } else {
          i++;
          currentPost.querySelector(".progress-bar__fill").style.width = `${i}%`;
          document.querySelector(
            ".progress-bar--primary .progress-bar__fill"
          ).style.width = `${i}%`;
          currentPost.classList.add("post--active");
      
          currentMainPost.classList.add("main-post--active");
          currentMainPost.classList.remove("main-post--not-active");
        }
      }</script>
<script>let slide_data = [
    {
      'src':'resources/images/porto2.jpg',
      'title':'',
      'copy':'sdcvbdvb'
    },
    {
      'src':'resources/images/algarve1.jpg', 
      'title':'A Plataforma dos emigrantes.',
      'copy':'fagfdbb    .'
    },
    {
      'src':'resources/images/acores1.jpg', 
      'title':'Aqui encontras o que procuras.',
      'copy':'DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT.'
    },
    {
      'src':'resources/images/gerês1.jpg', 
      'title':'Para os portugueses na Suiça',
      'copy':'DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT.'
    },
    
  ];
  let slides = [],
    captions = [];
  
  let autoplay = setInterval(function(){
    nextSlide();
  },5000);
  let container = document.getElementById('container');
  let leftSlider = document.getElementById('left-col');
  // console.log(leftSlider);
  let down_button = document.getElementById('down_button');
  // let caption = document.getElementById('slider-caption');
  // let caption_heading = caption.querySelector('caption-heading');
  
  down_button.addEventListener('click',function(e){
    e.preventDefault();
    clearInterval(autoplay);
    nextSlide();
    autoplay;
  });
  
  for (let i = 0; i< slide_data.length; i++){
    let slide = document.createElement('div'),
        caption = document.createElement('div'),
        slide_title = document.createElement('div');
      
    slide.classList.add('slide');
    slide.setAttribute('style','background:url('+slide_data[i].src+')');
    caption.classList.add('caption');
    slide_title.classList.add('caption-heading');
    slide_title.innerHTML = '<h1>'+slide_data[i].title+'</h1>';
    
    switch(i){
      case 0:
          slide.classList.add('current');
          caption.classList.add('current-caption');
          break;
      case 1:
          slide.classList.add('next');
          caption.classList.add('next-caption');
          break;
      case slide_data.length -1:
        slide.classList.add('previous');
        caption.classList.add('previous-caption');
        break;
      default:
         break;       
    }
    caption.appendChild(slide_title);
    caption.insertAdjacentHTML('beforeend','<div class="caption-subhead"><span></span></div>');
    slides.push(slide);
    captions.push(caption);
    leftSlider.appendChild(slide);
    container.appendChild(caption);
  }
  // console.log(slides);
  
  function nextSlide(){
    // caption.classList.add('offscreen');
    
    slides[0].classList.remove('current');
    slides[0].classList.add('previous','change');
    slides[1].classList.remove('next');
    slides[1].classList.add('current');
    slides[2].classList.add('next');
    let last = slides.length -1;
    slides[last].classList.remove('previous');
    
    captions[0].classList.remove('current-caption');
    captions[0].classList.add('previous-caption','change');
    captions[1].classList.remove('next-caption');
    captions[1].classList.add('current-caption');
    captions[2].classList.add('next-caption');
    let last_caption = captions.length -1;
    
    // console.log(last);
    captions[last].classList.remove('previous-caption');
    
    let placeholder = slides.shift();
    let captions_placeholder = captions.shift();
    slides.push(placeholder); 
    captions.push(captions_placeholder);
  }
  
  let heading = document.querySelector('.caption-heading');
  
  
  // https://jonsuh.com/blog/detect-the-end-of-css-animations-and-transitions-with-javascript/
  function whichTransitionEvent(){
    var t,
        el = document.createElement("fakeelement");
  
    var transitions = {
      "transition"      : "transitionend",
      "OTransition"     : "oTransitionEnd",
      "MozTransition"   : "transitionend",
      "WebkitTransition": "webkitTransitionEnd"
    }
  
    for (t in transitions){
      if (el.style[t] !== undefined){
        return transitions[t];
      }
    }
  }
  
  var transitionEvent = whichTransitionEvent()
  caption.addEventListener(transitionEvent, customFunction);
  
  function customFunction(event) {
    caption.removeEventListener(transitionEvent, customFunction);
    console.log('animation ended');
  
    // Do something when the transition ends
  }
  
  </script>


   <script src="resources/js/transportsearch.js"></script>
   <script src="/resources/js/jquery-ui.min.js"></script>
   <script src="/resources/fullclip.min.js"></script>
   <script src="/resources/js/player.js"></script>

  <script>var expanded = false;

    function showCheckboxes() {
      var checkboxes = document.getElementById("checkboxes");
      if (!expanded) {
        checkboxes.style.display = "block";
        expanded = true;
      } else {
        checkboxes.style.display = "none";
        expanded = false;
      }
    }</script>


</body>
</html>



